<!DOCTYPE html>
<html lang="en">
	<head>
		<title>logic simulation</title>
		<link rel="icon" href="favicon.png">
		<style>
			* {
				background-color: rgba(255, 0, 255, 0);
				color: #f5f5f5;
				margin: 0;
				padding: 0;
				box-sizing: border-box;
				font-family: monospace;
			}
			body {
				background-color: #000;
				min-height: 100vh;
				display: flex;
				flex-direction: column;
				overflow: hidden;
			}
			.header {
				background-color: #222;
				padding: 1rem;
				display: flex;
				gap:1rem;
			}
			.header > div {
				outline: 3px dashed #333;
				padding: .5rem;
				border-radius: 2px;
			}
		</style>
	</head>
	<body>
		<div class="header">
			<div>
				Gates
				<button id="addCircle">SWITCH</button>
				<button>NOT/NOR</button>
				<button>OR</button>
				<button>LED</button>
			</div>
			<div>
				Etc
				<button>SELECTION</button>
			</div>

		</div>

		
<canvas id="canvas"></canvas>
<script>
const canvas=document.getElementById('canvas'),ctx=canvas.getContext('2d');canvas.width=window.innerWidth;canvas.height=window.innerHeight;
const bubbleX=canvas.width/2,bubbleY=canvas.height/2,bubbleR=64,connectorR=20,crescentOffset=bubbleR-connectorR;
const interactives=[];

ctx.fillStyle='rgba(80,80,80,0.5)';ctx.beginPath();ctx.arc(bubbleX,bubbleY,crescentOffset,0,Math.PI*2);ctx.fill();interactives.push({type:'bubble',id:'mainBubble',x:bubbleX,y:bubbleY,r:crescentOffset}); // main bubble

function drawCrescent(angle,r,color,id){const cx=bubbleX+Math.cos(angle)*crescentOffset,cy=bubbleY+Math.sin(angle)*crescentOffset;
interactives.push({type:'crescent',id,x:cx,y:cy,r,mask:{x:bubbleX,y:bubbleY,r:crescentOffset}});
ctx.save();ctx.beginPath();ctx.arc(bubbleX,bubbleY,crescentOffset,0,Math.PI*2);ctx.clip();ctx.fillStyle=color;ctx.beginPath();ctx.arc(cx,cy,r,0,Math.PI*2);ctx.fill();ctx.restore();} // draw crescent

drawCrescent(0,connectorR,'rgba(0,255,0,0.3)','outputCrescent');drawCrescent(Math.PI,connectorR,'rgba(255,0,0,0.3)','inputCrescent'); // two crescents

const innerR=20,borderThickness=connectorR,maxDistance=Math.min(canvas.width,canvas.height)/2-innerR-borderThickness;
const innerAngle=Math.random()*2*Math.PI,innerDistance=Math.random()*(maxDistance-(crescentOffset+innerR))+(crescentOffset+innerR);
const innerX=bubbleX+Math.cos(innerAngle)*innerDistance,innerY=bubbleY+Math.sin(innerAngle)*innerDistance;

ctx.fillStyle='rgba(200,200,200,0.06)';ctx.beginPath();ctx.arc(innerX,innerY,innerR,0,Math.PI*2);ctx.fill();interactives.push({type:'innerBubble',id:'innerBubble',x:innerX,y:innerY,r:innerR}); // inner bubble fill

ctx.lineWidth=borderThickness;ctx.strokeStyle='rgba(255,255,255,0.6)';ctx.beginPath();ctx.arc(innerX,innerY,innerR+borderThickness/2,0,Math.PI*2);ctx.stroke();
interactives.push({type:'innerBubbleBorder',id:'innerBubbleBorder',x:innerX,y:innerY,rOuter:innerR+borderThickness/2,rInner:innerR-borderThickness/2}); // inner bubble border clickable fully

canvas.addEventListener('click',e=>{const rect=canvas.getBoundingClientRect();const mx=(e.clientX-rect.left)*(canvas.width/rect.width);const my=(e.clientY-rect.top)*(canvas.height/rect.height);

// check crescents
for(const obj of interactives){if(obj.type!=='crescent')continue;const dx=mx-obj.x,dy=my-obj.y;if(Math.sqrt(dx*dx+dy*dy)<obj.r){const dxm=mx-obj.mask.x,dym=my-obj.mask.y;if(Math.sqrt(dxm*dxm+dym*dym)<=obj.mask.r){console.log('Clicked crescent',obj.id);return;}}} 

// inner bubble border (only ring)
for(const obj of interactives){if(obj.type!=='innerBubbleBorder')continue;const dx=mx-obj.x,dy=my-obj.y,dist=Math.sqrt(dx*dx+dy*dy);if(dist>=obj.rInner&&dist<=obj.rOuter){console.log('Clicked innerBubbleBorder',obj.id);return;}} 

// inner bubble fill
for(const obj of interactives){if(obj.type!=='innerBubble')continue;const dx=mx-obj.x,dy=my-obj.y;if(Math.sqrt(dx*dx+dy*dy)<obj.r){console.log('Clicked innerBubble',obj.id);return;}} 

// main bubble
for(const obj of interactives){if(obj.type!=='bubble')continue;const dx=mx-obj.x,dy=my-obj.y;if(Math.sqrt(dx*dx+dy*dy)<obj.r){console.log('Clicked mainBubble',obj.id);return;}} 
});
</script>



	</body>
</html>